<view class="container">
  <custom-nav showBack="{{true}}" />

  <view class="detail-card" wx:if="{{commit}}">
    <view class="header-row">
        <view class="title">{{commit.title}}</view>
        <view class="type-tag">{{typeMap[commit.type] || commit.type}}</view>
    </view>
    
    <view class="info-row">
        <text class="label">æäº¤ID</text>
        <text class="value code">{{commit._id}}</text>
    </view>
    
     <view class="info-row">
        <text class="label">é‡Œç¨‹èŠ‚ç‚¹</text>
        <text class="value highlight">{{commit.mileage}} km</text>
    </view>
    
    <view class="info-row">
        <text class="label">æ—¥æœŸ</text>
        <text class="value">{{commit.date}}</text>
    </view>

    <view class="divider"></view>

    <view class="section-label">è¯¦ç»†æè¿°</view>
    <view class="message-box">
        {{commit.message || 'æ— è¯¦ç»†æè¿°'}}
    </view>

    <view class="cost-section" wx:if="{{commit.cost}}">
        <view class="cost-row">
            <text>é…ä»¶è´¹</text>
            <text>Â¥ {{commit.cost.parts}}</text>
        </view>
        <view class="cost-row">
            <text>å·¥æ—¶è´¹</text>
            <text>Â¥ {{commit.cost.labor}}</text>
        </view>
        <view class="total-row">
            <text>æ€»è®¡</text>
            <text class="total-price">Â¥ {{commit.cost.parts + commit.cost.labor}}</text>
        </view>
    </view>
  </view>

  <view class="action-bar" wx:if="{{commit}}">
    <view class="btn edit-btn" bindtap="onEdit">
      <text class="icon">âœï¸</text> ç¼–è¾‘
    </view>
    <view class="btn delete-btn" bindtap="onDelete">
      <text class="icon">ğŸ—‘ï¸</text> åˆ é™¤
    </view>
  </view>
</view>
